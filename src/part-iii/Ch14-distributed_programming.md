# 分布式编程


编写 Erlang 的分布式程序，只是编写并发程序中的一小步。在分布式的 Erlang 中，我们可在远端节点和机器上，生成进程。在生成了远端进程后，我们将看到所有其他原语，即 `send` 、`receive`、`link` 等，都可以像在单个节点上一样，经由网络透明地运行。


在这一章中，我们将引入我们用以编写分布式 Erlang 程序的库和原语。*分布式程序* 属于被设计在计算机网络上运行，并只能经由消息传递，协调其活动的程序。


下面是我们要编写分布式应用的一些原因：


- *性能*

    通过将程序的不同部分，分派在不同机器上并行运行，我们可以让程序运行得更快。

- *可靠性*

    经由将系统架构于多台机器上，我们可构造出容错系统。当一台机器失效时，我们可在另一机器上继续。

- *可扩展性*

    随着我们扩大某个应用规模，迟早我们都将耗尽机器性能，即使是最强大的机器。在这个阶段，我们就必添加更多的机器，以增加能力。添加新机器应是无需对应用架构大改动的简单操作。

- *内在分布式应用*

    许多应用内在就是分布式的。当我们编写某个多用户游戏，或聊天系统时，不同用户将分散在全球各地。当我们有用户集中在某一特定地理位置时，我们就会打算将计算资源，放在这些用户附近。

- *乐趣*

    我（作者）打算编写的大多数有趣程序，都是分布式的。其中许多都涉及与世界各地的人和机器交互。


### 分布式的两种模型


在本书中，我们将讨论分布式的两种主要模型。


- *分布式 Erlang*

    在分布式 Erlang 下，程序被编写为运行于 Erlang *节点*。所谓节点，是以其自己的地址空间与进程集，包含了完整虚拟机的独立 Erlang 系统。

    我们可在任何节点上生成进程，同时我们前几章中讲到的所有消息传递和错误处理原语，都可在这种单节点情形下工作。

    分布式 Erlang 的应用，运行在 *受信任* 环境中 -- 因为任何节点，都可在任何其他 Erlang 节点上，执行任何操作，这就涉及到一种高度信任。通常情况下，分布式 Erlang 应用，将运行在同一局域网的集群上，并在防火墙之后，尽管他们也可运行在开放网络中。

- *基于套接字的分布式*

    运用 TCP/IP 套接字，我们可编写出能在 *不受信任* 环境中，运行的分布式应用。与分布式 Erlang 相比，这种编程模型不那么强大，但更为安全。在 [14.6 小节 “基于套接字的并发”](基于套接字的并发) 中，我们将了解如何运用一种简单的基于套接字的并发机制构造应用。
